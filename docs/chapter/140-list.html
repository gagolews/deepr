<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Deep R Programming" name="citation_title" />
<meta content="Marek Gagolewski" name="citation_author" />
<meta content="2024" name="citation_date" />
<meta content="2024" name="citation_publication_date" />
<meta content="https://deepr.gagolewski.com/deepr.pdf" name="citation_pdf_url" />
<meta content="https://deepr.gagolewski.com" name="citation_public_url" />
<meta content="10.5281/zenodo.7490464" name="citation_doi" />
<meta content="Deep R Programming is a comprehensive and in-depth introductory course on one of the most popular languages for data science. It equips ambitious students, professionals, and researchers with the knowledge and skills to become independent users of this potent environment so that they can tackle any problem related to data wrangling and analytics, numerical computing, statistics, and machine learning. This textbook is a non-profit project. Its online and PDF versions are freely available at https://deepr.gagolewski.com/." name="citation_abstract" />
<meta content="summary" name="twitter:card" />
<meta content="Deep R Programming" name="twitter:title" />
<meta content="Deep R Programming" name="og:title" />
<meta content="Deep R Programming is a comprehensive and in-depth introductory course on one of the most popular languages for data science. It equips ambitious students, professionals, and researchers with the knowledge and skills to become independent users of this potent environment so that they can tackle any problem related to data wrangling and analytics, numerical computing, statistics, and machine learning. This textbook is a non-profit project. Its online and PDF versions are freely available at https://deepr.gagolewski.com/." name="twitter:description" />
<meta content="Deep R Programming is a comprehensive and in-depth introductory course on one of the most popular languages for data science. It equips ambitious students, professionals, and researchers with the knowledge and skills to become independent users of this potent environment so that they can tackle any problem related to data wrangling and analytics, numerical computing, statistics, and machine learning. This textbook is a non-profit project. Its online and PDF versions are freely available at https://deepr.gagolewski.com/." name="og:description" />
<meta content="gagolews/deepr" name="og:site_name" />
<meta content="https://deepr.gagolewski.com" name="og:url" />
<meta content="https://deepr.gagolewski.com/_images/cover.png" name="twitter:image" />
<meta content="https://deepr.gagolewski.com/_images/cover.png" name="og:image" />
<meta content="https://deepr.gagolewski.com" name="DC.identifier" />
<meta content="Marek Gagolewski" name="DC.publisher" />
<meta content="INDEX,FOLLOW" name="robots" />
<meta content="book" name="og:type" />
<meta content="9780645571929" name="og:book:isbn" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="5. Vector indexing" href="150-indexing.html" /><link rel="prev" title="3. Logical vectors" href="130-logical.html" />
        <link rel="canonical" href="https://deepr.gagolewski.com/chapter/140-list.html" />

    <link rel="shortcut icon" href="https://www.gagolewski.com/_static/img/deepr.png"/><!-- Generated with Sphinx 7.3.7 and Furo 2024.05.06 -->
        <title>4. Lists and attributes - Deep R Programming</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/katex-math.css?v=91adb8b6" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=1e0fcfc0" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Deep R Programming</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto colour theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky">
<div class="sidebar-logo-container">
  <a class="sidebar-brand" href="../index.html"><img class="sidebar-logo" src="https://www.gagolewski.com/_static/img/deepr.png" alt="Logo"/></a>
</div>

<span class="sidebar-brand-text">
<a class="sidebar-brand" href="../index.html">Deep R Programming</a>
</span>
<div class="sidebar-brand">
An open-access textbook<br />
by <a href='https://www.gagolewski.com/' style="display: contents">Marek Gagolewski</a><br />
v1.0.1.9001
</div>
<form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">About</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.gagolewski.com/">Author</a></li>
<li class="toctree-l1"><a class="reference external" href="https://deepr.gagolewski.com/deepr.pdf">This book in PDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../order-paper-copy.html">Order a paper copy</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/deepr">Report bugs or typos (GitHub)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/teaching-data">Datasets</a></li>
<li class="toctree-l1"><a class="reference external" href="https://datawranglingpy.gagolewski.com/">Data wrangling with Python</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Start here</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="000-preface.html">Preface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deep</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="110-basics.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="120-numeric.html">2. Numeric vectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="130-logical.html">3. Logical vectors</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">4. Lists and attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="150-indexing.html">5. Vector indexing</a></li>
<li class="toctree-l1"><a class="reference internal" href="160-character.html">6. Character vectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="170-function.html">7. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="180-flow.html">8. Flow of execution</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deeper</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="210-design.html">9. Designing functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="220-s3.html">10. S3 classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="230-matrix.html">11. Matrices and other arrays</a></li>
<li class="toctree-l1"><a class="reference internal" href="240-data-frame.html">12. Data frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="250-graphics.html">13. Graphics</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deepest</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="310-compiled.html">14. Interfacing compiled code (**)</a></li>
<li class="toctree-l1"><a class="reference internal" href="320-language.html">15. Unevaluated expressions (*)</a></li>
<li class="toctree-l1"><a class="reference internal" href="330-environment.html">16. Environments and evaluation (*)</a></li>
<li class="toctree-l1"><a class="reference internal" href="340-lazy.html">17. Lazy evaluation (**)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="998-changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="999-bibliography.html">References</a></li>
</ul>

</div></div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/gagolews/deepr" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto colour theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="lists-and-attributes">
<span id="chap-list"></span><h1><span class="section-number">4. </span>Lists and attributes<a class="headerlink" href="#lists-and-attributes" title="Link to this heading">¶</a></h1>
<blockquote>
<div><p><em>This open-access textbook
is, and will remain, freely available for everyone’s enjoyment
(also in <a class="reference external" href="https://deepr.gagolewski.com/deepr.pdf">PDF</a>;
a paper copy can also be <a class="reference internal" href="../order-paper-copy.html"><span class="doc std std-doc">ordered</span></a>).
It is a non-profit project. Although available online, it is a whole course,
and should be read from the beginning to the end.
Refer to the <a class="reference internal" href="000-preface.html#chap-preface"><span class="std std-ref">Preface</span></a> for general introductory remarks. Any
<a class="reference external" href="https://github.com/gagolews/deepr">bug/typo reports/fixes</a>
are appreciated. Make sure to check out
<a class="reference external" href="https://datawranglingpy.gagolewski.com/"><em>Minimalist Data Wrangling with Python</em></a>
<span id="id1">[<a class="reference internal" href="999-bibliography.html#id3" title="Gagolewski, M. (2024).  Minimalist Data Wrangling with Python. URL: https://datawranglingpy.gagolewski.com/, DOI: 10.5281/zenodo.6451068.">27</a>]</span>, too.</em></p>
</div></blockquote>
<p>After two brain-teasing chapters, it is time to cool it down a little.
In this more technical part, we will introduce <em>lists</em>, which serve
as universal containers for R objects of any size and type.
Moreover, we will also show that each R object can be equipped
with a number of optional <em>attributes</em>. Thanks to them, we will
be able to label elements in any vector, and, in <a class="reference internal" href="220-s3.html#chap-s3"><span class="std std-numref">Chapter 10</span></a>,
introduce new complex data types such as matrices and data frames.</p>
<section id="type-hierarchy-and-conversion">
<span id="sec-type-hierarchy"></span><h2><span class="section-number">4.1. </span>Type hierarchy and conversion<a class="headerlink" href="#type-hierarchy-and-conversion" title="Link to this heading">¶</a></h2>
<p>So far, we have been playing with three types of atomic vectors:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">logical</span></code> (<a class="reference internal" href="130-logical.html#chap-logical"><span class="std std-numref">Chapter 3</span></a>),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numeric</span></code> (<a class="reference internal" href="120-numeric.html#chap-numeric"><span class="std std-numref">Chapter 2</span></a>),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">character</span></code> (which we have barely touched upon yet, but
rest assured that they will be covered in detail very soon; see
<a class="reference internal" href="160-character.html#chap-character"><span class="std std-numref">Chapter 6</span></a>).</p></li>
</ol>
<p>To determine the type of an object programmatically,
we can call the <strong class="command">typeof</strong> function.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">typeof</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">))</span>
<span class="c1">## [1] &quot;double&quot;</span>
<span class="nf">typeof</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">))</span>
<span class="c1">## [1] &quot;logical&quot;</span>
<span class="nf">typeof</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;spam&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;spam&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bacon&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;eggs&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;spam&quot;</span><span class="p">))</span>
<span class="c1">## [1] &quot;character&quot;</span>
</pre></div>
</div>
<p>We can easily convert between these types, either on our explicit demand
(<em>type casting</em>) or on-the-fly (<em>coercion</em>, when we perform an operation
that expects something different from the kind of input it was fed with).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>(*)
Numeric vectors are reported as being either of the type
<code class="docutils literal notranslate"><span class="pre">double</span></code> (double-precision floating-point numbers)
or <code class="docutils literal notranslate"><span class="pre">integer</span></code> (32-bit; it is a subset of <code class="docutils literal notranslate"><span class="pre">double</span></code>);
see <a class="reference internal" href="160-character.html#sec-integer"><span class="std std-numref">Section 6.4.1</span></a>.
In most practical cases, this is a technical detail that
we can risklessly ignore; compare also the <strong class="command">mode</strong> function.</p>
</div>
<section id="explicit-type-casting">
<h3><span class="section-number">4.1.1. </span>Explicit type casting<a class="headerlink" href="#explicit-type-casting" title="Link to this heading">¶</a></h3>
<p>We can use functions such as <strong class="command">as.logical</strong>,
<strong class="command">as.numeric</strong><a class="footnote-reference brackets" href="#footasnumeric" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>,
and <strong class="command">as.character</strong> to <em>convert</em>
given objects to the corresponding types.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span><span class="w">  </span><span class="c1"># synonym: as.double</span>
<span class="c1">## [1]  1  0 NA  1 NA  0</span>
<span class="nf">as.logical</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">-2</span><span class="p">,</span><span class="w"> </span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kc">NA_real_</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="kc">Inf</span><span class="p">,</span><span class="w"> </span><span class="kc">NaN</span><span class="p">))</span>
<span class="c1">## [1]  TRUE  TRUE FALSE  TRUE  TRUE  TRUE    NA  TRUE    NA</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The rules are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span></code> <span class="math">\(\rightarrow\)</span> 1,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FALSE</span></code> <span class="math">\(\rightarrow\)</span> 0,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NA</span></code> <span class="math">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">NA_real_</span></code>,</p></li>
</ul>
<p>and:</p>
<ul class="simple">
<li><p>0 <span class="math">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NA_real_</span></code> and <code class="docutils literal notranslate"><span class="pre">NaN</span></code> <span class="math">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">NA</span></code>,</p></li>
<li><p>anything else <span class="math">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>.</p></li>
</ul>
<p>The distinction between zero and non-zero
is commonly applied in other programming languages as well.</p>
</div>
<p>Moreover, in the case of the conversion involving character strings, we have:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">as.character</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span>
<span class="c1">## [1] &quot;TRUE&quot;  &quot;FALSE&quot; NA      &quot;TRUE&quot;  NA      &quot;FALSE&quot;</span>
<span class="nf">as.character</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">-2</span><span class="p">,</span><span class="w"> </span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kc">NA_real_</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="kc">Inf</span><span class="p">,</span><span class="w"> </span><span class="kc">NaN</span><span class="p">))</span>
<span class="c1">## [1] &quot;-2&quot;   &quot;-1&quot;   &quot;0&quot;    &quot;1&quot;    &quot;2&quot;    &quot;3&quot;    NA     &quot;-Inf&quot; &quot;NaN&quot;</span>
<span class="nf">as.logical</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;TRUE&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;True&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;T&quot;</span><span class="p">,</span>
<span class="w">             </span><span class="s">&quot;FALSE&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;False&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;false&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;F&quot;</span><span class="p">,</span>
<span class="w">             </span><span class="s">&quot;anything other than these&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">NA_character_</span><span class="p">))</span>
<span class="c1">##  [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE    NA    NA</span>
<span class="nf">as.numeric</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-1.23e4&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;pi&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2+2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;NaN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-Inf&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">NA_character_</span><span class="p">))</span>
<span class="c1">## Warning: NAs introduced by coercion</span>
<span class="c1">## [1]      0 -12300     NA     NA    NaN   -Inf     NA</span>
</pre></div>
</div>
</section>
<section id="implicit-conversion-coercion">
<h3><span class="section-number">4.1.2. </span>Implicit conversion (coercion)<a class="headerlink" href="#implicit-conversion-coercion" title="Link to this heading">¶</a></h3>
<p>Recall that we referred to the three vector types as <em>atomic</em> ones.
They can only be used to store elements of the <em>same type</em>.
If we make an attempt at composing an object of mixed types with
<strong class="command">c</strong>, the common type will be determined in such a way that
data are stored without information loss:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;three&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">)</span>
<span class="c1">## [1] &quot;-1&quot;    &quot;FALSE&quot; &quot;TRUE&quot;  &quot;2&quot;     &quot;three&quot; NA</span>
<span class="nf">c</span><span class="p">(</span><span class="s">&quot;zero&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">)</span>
<span class="c1">## [1] &quot;zero&quot; &quot;TRUE&quot; NA</span>
<span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">)</span>
<span class="c1">## [1] -1  0  1  2 NA</span>
</pre></div>
</div>
<p>Hence, we see that <code class="docutils literal notranslate"><span class="pre">logical</span></code> is the most specialised of the tree,
whereas <code class="docutils literal notranslate"><span class="pre">character</span></code> is the most general.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The logical <code class="docutils literal notranslate"><span class="pre">NA</span></code> is converted to <code class="docutils literal notranslate"><span class="pre">NA_real_</span></code> and <code class="docutils literal notranslate"><span class="pre">NA_character_</span></code>
in the preceding examples. R users tend to rely on implicit type
conversion when they write  <strong class="command">c</strong><code class="code docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">2,</span> <span class="pre">NA,</span> <span class="pre">4)</span></code>
rather than <strong class="command">c</strong><code class="code docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">2,</span> <span class="pre">NA_real_,</span> <span class="pre">4)</span></code>.
In most cases, this is fine, but it might make us less vigilant.</p>
<p>However, occasionally, it will be wiser to be more unequivocal.
For instance, <strong class="command">rep</strong><code class="code docutils literal notranslate"><span class="pre">(NA_real_,</span> <span class="pre">1e9)</span></code> preallocates
a long numeric vector instead of a logical one.</p>
</div>
<p>Some functions that expect vectors of specific types
can apply coercion by themselves (or act as if they do so):</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">c</span><span class="p">(</span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">10</span><span class="w">  </span><span class="c1"># implicit conversion logical –&gt; numeric</span>
<span class="c1">## [1] NA 10 11</span>
<span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="kc">TRUE</span><span class="w">  </span><span class="c1"># implicit conversion numeric –&gt; logical</span>
<span class="c1">## [1]  TRUE FALSE  TRUE</span>
<span class="nf">sum</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span><span class="w">  </span><span class="c1"># same as sum(as.numeric(...))</span>
<span class="c1">## [1] 3</span>
<span class="nf">cumsum</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span>
<span class="c1">## [1] 1 2 2 3 3</span>
<span class="nf">cummin</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span>
<span class="c1">## [1] 1 1 0 0 0</span>
</pre></div>
</div>
<div class="proof proof-type-exercise" id="id4">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.1</span>
        
    </div><div class="proof-content">
<p>In <a class="reference internal" href="130-logical.html#exercise-cross-entropy"><span class="std std-numref">Exercise 3.6</span></a>, we computed the cross-entropy loss
between a logical vector <span class="math">\(\boldsymbol{y}\in\{0, 1\}^n\)</span>
and a numeric vector  <span class="math">\(\boldsymbol{p}\in(0, 1)^n\)</span>.
This measure can be equivalently defined as:</p>
<div class="math-wrapper docutils container">
<div class="math">
\[
\mathcal{L}(\boldsymbol{p}, \boldsymbol{y}) = -\frac{1}{n}\left(\sum_{i=1}^n y_i\log(p_i)+ (1-y_i)\log(1-p_i) \right).
\]</div>
</div>
<p>Implement this formula using vectorised operations, but not relying on <strong class="command">ifelse</strong> this time. Then, compute the cross-entropy loss between,
for instance,
“<code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">&lt;-</span> </code><strong class="command">sample</strong><code class="code docutils literal notranslate"><span class="pre">(</span></code><strong class="command">c</strong><code class="code docutils literal notranslate"><span class="pre">(FALSE,</span> <span class="pre">TRUE),</span> <span class="pre">n,</span> <span class="pre">replace=TRUE)</span></code>”
and
“<code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">&lt;-</span> </code><strong class="command">runif</strong><code class="code docutils literal notranslate"><span class="pre">(n)</span></code>” for some <code class="docutils literal notranslate"><span class="pre">n</span></code>.
Note how seamlessly we translate between
<code class="docutils literal notranslate"><span class="pre">FALSE</span></code>/<code class="docutils literal notranslate"><span class="pre">TRUE</span></code>s and 0/1s in the above equation (in particular,
where <span class="math">\(1-y_i\)</span> means the logical negation of <span class="math">\(y_i\)</span>).</p>
</div></div></section>
</section>
<section id="lists">
<h2><span class="section-number">4.2. </span>Lists<a class="headerlink" href="#lists" title="Link to this heading">¶</a></h2>
<p><em>Lists</em> are <em>generalised</em> vectors.
They can be comprised of R objects of any kind, also other lists.
It is why we classify them as <em>recursive</em> (and not atomic) objects.
They are especially useful wherever there is a need to
handle some <em>multitude</em> as a single entity.</p>
<section id="creating-lists">
<h3><span class="section-number">4.2.1. </span>Creating lists<a class="headerlink" href="#creating-lists" title="Link to this heading">¶</a></h3>
<p>The most straightforward way to create a list is by means
of the <strong class="command">list</strong> function:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)</span>
<span class="c1">## [[1]]</span>
<span class="c1">## [1] 1</span>
<span class="c1">##</span>
<span class="c1">## [[2]]</span>
<span class="c1">## [1] 2</span>
<span class="c1">##</span>
<span class="c1">## [[3]]</span>
<span class="c1">## [1] 3</span>
</pre></div>
</div>
<p>Notice that it is not the same as <strong class="command">c</strong><code class="code docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">2,</span> <span class="pre">3)</span></code>.
We got a sequence that wraps three numeric vectors, each of length one.
More examples:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;and so forth&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1"># different types</span>
<span class="c1">## [[1]]</span>
<span class="c1">## [1] 1 2 3</span>
<span class="c1">##</span>
<span class="c1">## [[2]]</span>
<span class="c1">## [1] 4</span>
<span class="c1">##</span>
<span class="c1">## [[3]]</span>
<span class="c1">## [1]  TRUE FALSE    NA  TRUE</span>
<span class="c1">##</span>
<span class="c1">## [[4]]</span>
<span class="c1">## [1] &quot;and so forth&quot;</span>
<span class="nf">list</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">),</span><span class="w"> </span><span class="kc">letters</span><span class="p">),</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">))</span><span class="w">  </span><span class="c1"># a list of lists</span>
<span class="c1">## [[1]]</span>
<span class="c1">## [[1]][[1]]</span>
<span class="c1">## [1]  TRUE FALSE    NA  TRUE</span>
<span class="c1">##</span>
<span class="c1">## [[1]][[2]]</span>
<span class="c1">##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot;</span>
<span class="c1">## [18] &quot;r&quot; &quot;s&quot; &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</span>
<span class="c1">##</span>
<span class="c1">##</span>
<span class="c1">## [[2]]</span>
<span class="c1">## [[2]][[1]]</span>
<span class="c1">## [1] 1 2 3</span>
</pre></div>
</div>
<p>The display of lists is (un)pretty bloated.
However, the <strong class="command">str</strong> function prints any R object
in a more concise fashion:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">str</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">),</span><span class="w"> </span><span class="kc">letters</span><span class="p">),</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">)))</span>
<span class="c1">## List of 2</span>
<span class="c1">##  $ :List of 2</span>
<span class="c1">##   ..$ : logi [1:4] TRUE FALSE NA TRUE</span>
<span class="c1">##   ..$ : chr [1:26] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...</span>
<span class="c1">##  $ :List of 1</span>
<span class="c1">##   ..$ : int [1:3] 1 2 3</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In <a class="reference internal" href="#sec-type-hierarchy"><span class="std std-numref">Section 4.1</span></a>, we said that the <strong class="command">c</strong> function,
when fed with arguments of mixed types, tries to determine
the common type that retains the sense of data.
If coercion to an atomic vector is not possible, the result
will be a list.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;two&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">identity</span><span class="p">)</span><span class="w">  </span><span class="c1"># `identity` is an object of the type &quot;function&quot;</span>
<span class="c1">## [[1]]</span>
<span class="c1">## [1] 1</span>
<span class="c1">##</span>
<span class="c1">## [[2]]</span>
<span class="c1">## [1] &quot;two&quot;</span>
<span class="c1">##</span>
<span class="c1">## [[3]]</span>
<span class="c1">## function (x)</span>
<span class="c1">## x</span>
<span class="c1">## &lt;environment: namespace:base&gt;</span>
</pre></div>
</div>
</div>
<p>Thus, the <strong class="command">c</strong> function can also be used to concatenate lists:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">c</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">3</span><span class="p">))</span><span class="w">  </span><span class="c1"># three lists –&gt; one list</span>
<span class="c1">## [[1]]</span>
<span class="c1">## [1] 1</span>
<span class="c1">##</span>
<span class="c1">## [[2]]</span>
<span class="c1">## [1] 2</span>
<span class="c1">##</span>
<span class="c1">## [[3]]</span>
<span class="c1">## [1] 3</span>
</pre></div>
</div>
<p>Lists can be repeated using <strong class="command">rep</strong>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">rep</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">11</span><span class="p">,</span><span class="w"> </span><span class="kc">LETTERS</span><span class="p">),</span><span class="w"> </span><span class="m">2</span><span class="p">)</span>
<span class="c1">## [[1]]</span>
<span class="c1">##  [1]  1  2  3  4  5  6  7  8  9 10 11</span>
<span class="c1">##</span>
<span class="c1">## [[2]]</span>
<span class="c1">##  [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot;</span>
<span class="c1">## [18] &quot;R&quot; &quot;S&quot; &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;</span>
<span class="c1">##</span>
<span class="c1">## [[3]]</span>
<span class="c1">##  [1]  1  2  3  4  5  6  7  8  9 10 11</span>
<span class="c1">##</span>
<span class="c1">## [[4]]</span>
<span class="c1">##  [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot;</span>
<span class="c1">## [18] &quot;R&quot; &quot;S&quot; &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;</span>
</pre></div>
</div>
</section>
<section id="converting-to-and-from-lists">
<h3><span class="section-number">4.2.2. </span>Converting to and from lists<a class="headerlink" href="#converting-to-and-from-lists" title="Link to this heading">¶</a></h3>
<p>The conversion of an atomic vector to a list of vectors of length one can
be done via a call to <strong class="command">as.list</strong>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">as.list</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">))</span><span class="w">  </span><span class="c1"># vector of length 3 –&gt; list of 3 vectors of length 1</span>
<span class="c1">## [[1]]</span>
<span class="c1">## [1] 1</span>
<span class="c1">##</span>
<span class="c1">## [[2]]</span>
<span class="c1">## [1] 2</span>
<span class="c1">##</span>
<span class="c1">## [[3]]</span>
<span class="c1">## [1] 3</span>
</pre></div>
</div>
<p>Unfortunately, calling, say, <strong class="command">as.numeric</strong> on a list
arouses an error, even if it is comprised of numeric
vectors only. We can try flattening it to an atomic sequence
by calling <strong class="command">unlist</strong>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">unlist</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">4</span><span class="o">:</span><span class="m">8</span><span class="p">)),</span><span class="w"> </span><span class="m">9</span><span class="p">))</span>
<span class="c1">## [1] 1 2 3 4 5 6 7 8 9</span>
<span class="nf">unlist</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">4</span><span class="o">:</span><span class="m">8</span><span class="p">)),</span><span class="w"> </span><span class="s">&quot;spam&quot;</span><span class="p">))</span>
<span class="c1">## [1] &quot;1&quot;    &quot;2&quot;    &quot;3&quot;    &quot;4&quot;    &quot;5&quot;    &quot;6&quot;    &quot;7&quot;    &quot;8&quot;    &quot;spam&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>(*)
<a class="reference internal" href="230-matrix.html#chap-matrix"><span class="std std-numref">Chapter 11</span></a> will mention the <strong class="command">simplify2array</strong> function,
which generalises <strong class="command">unlist</strong>
in a way that can sometimes give rise to a matrix.</p>
</div>
</section>
</section>
<section id="null">
<h2><span class="section-number">4.3. </span><code class="docutils literal notranslate"><span class="pre">NULL</span></code><a class="headerlink" href="#null" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">NULL</span></code>, being the one and only instance of the eponymous type,
can be used as a placeholder for an R object
or designate the absence of any entities whatsoever.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">list</span><span class="p">(</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">month.name</span><span class="p">)</span>
<span class="c1">## [[1]]</span>
<span class="c1">## NULL</span>
<span class="c1">##</span>
<span class="c1">## [[2]]</span>
<span class="c1">## NULL</span>
<span class="c1">##</span>
<span class="c1">## [[3]]</span>
<span class="c1">##  [1] &quot;January&quot;   &quot;February&quot;  &quot;March&quot;     &quot;April&quot;     &quot;May&quot;</span>
<span class="c1">##  [6] &quot;June&quot;      &quot;July&quot;      &quot;August&quot;    &quot;September&quot; &quot;October&quot;</span>
<span class="c1">## [11] &quot;November&quot;  &quot;December&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">NULL</span></code> is different from a vector of length zero because the latter has
a type. However, <code class="docutils literal notranslate"><span class="pre">NULL</span></code> sometimes <em>behaves</em> like a zero-length vector.
In particular, <strong class="command">length</strong><code class="code docutils literal notranslate"><span class="pre">(NULL)</span></code> returns 0.
Also, <strong class="command">c</strong> called with no arguments returns <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p>Testing for <code class="docutils literal notranslate"><span class="pre">NULL</span></code>-ness can be done with a call to <strong class="command">is.null</strong>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><code class="docutils literal notranslate"><span class="pre">NULL</span></code> is not the same as <code class="docutils literal notranslate"><span class="pre">NA</span></code>.
The former cannot be emplaced in an atomic vector.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">)</span><span class="w">  </span><span class="c1"># here, NULL behaves like a zero-length vector</span>
<span class="c1">## [1]  1 NA  3  5</span>
</pre></div>
</div>
<p>They have very distinct semantics (no value vs a missing value).</p>
</div>
<p>Later we will see that some functions return <code class="docutils literal notranslate"><span class="pre">NULL</span></code> invisibly
when they have nothing interesting to report.
This is the case of <strong class="command">print</strong> or <strong class="command">plot</strong>, which are called
because of their side effects (printing and plotting).</p>
<p>Furthermore, in certain contexts, replacing content with <code class="docutils literal notranslate"><span class="pre">NULL</span></code>
will actually result in its removal, e.g., when subsetting a list.</p>
</section>
<section id="object-attributes">
<span id="sec-attribute"></span><h2><span class="section-number">4.4. </span>Object attributes<a class="headerlink" href="#object-attributes" title="Link to this heading">¶</a></h2>
<p>Lists can embrace many entities in the form of a single item sequence.
<em>Attributes</em>, on the other hand, give means to inject <em>extra</em> data
into an object. They are unordered <code class="docutils literal notranslate"><span class="pre">key=value</span></code> pairs,
where <code class="docutils literal notranslate"><span class="pre">key</span></code> is a single string,
and <code class="docutils literal notranslate"><span class="pre">value</span></code> is any R object except <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.
We can introduce them by calling, amongst others<a class="footnote-reference brackets" href="#attr1" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>, the
<strong class="command">structure</strong> function:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x_simple</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">10</span>
<span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">structure</span><span class="p">(</span>
<span class="w">    </span><span class="n">x_simple</span><span class="p">,</span><span class="w">  </span><span class="c1"># the object to be equipped with attributes</span>
<span class="w">    </span><span class="n">attribute1</span><span class="o">=</span><span class="s">&quot;value1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">attribute2</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">324</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<section id="developing-perceptual-indifference-to-most-attributes">
<h3><span class="section-number">4.4.1. </span>Developing perceptual indifference to most attributes<a class="headerlink" href="#developing-perceptual-indifference-to-most-attributes" title="Link to this heading">¶</a></h3>
<p>Let’s see how the foregoing <code class="docutils literal notranslate"><span class="pre">x</span></code> is reported on the console:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1">##  [1]  1  2  3  4  5  6  7  8  9 10</span>
<span class="c1">## attr(,&quot;attribute1&quot;)</span>
<span class="c1">## [1] &quot;value1&quot;</span>
<span class="c1">## attr(,&quot;attribute2&quot;)</span>
<span class="c1">## [1]   6 100 324</span>
</pre></div>
</div>
<p>The object of concern, <code class="docutils literal notranslate"><span class="pre">1:10</span></code>, was displayed first.
We need to get used to that. Most of the time, we suggest to treat
the “<code class="docutils literal notranslate"><span class="pre">attr</span></code>…” parts of the display as if they were printed
in tiny font.</p>
<p>Equipping an object with attributes <em>does not usually change its nature</em>;
see, however, <a class="reference internal" href="220-s3.html#chap-s3"><span class="std std-numref">Chapter 10</span></a> for a few exceptions. The above <code class="docutils literal notranslate"><span class="pre">x</span></code> is still
treated as an ordinary sequence of numbers by most functions:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">   </span><span class="c1"># the same as sum(1:10); `sum` does not care about any attributes</span>
<span class="c1">## [1] 55</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">  </span><span class="c1"># just a numeric vector, but with some perks</span>
<span class="c1">## [1] &quot;integer&quot;</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Attributes are generally ignored by most functions unless they have
specifically been programmed to pay attention to them.</p>
</div>
</section>
<section id="but-there-are-a-few-use-cases">
<span id="sec-list-use-cases"></span><h3><span class="section-number">4.4.2. </span>But there are a few use cases<a class="headerlink" href="#but-there-are-a-few-use-cases" title="Link to this heading">¶</a></h3>
<p>Some R functions add attributes to the return value to sneak extra
information that <em>might</em> be useful, just in case.
For instance, <strong class="command">na.omit</strong>, whose main aim is to remove missing
values from an atomic vector, yields:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="m">40</span><span class="p">,</span><span class="w"> </span><span class="m">50</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="m">70</span><span class="p">)</span>
<span class="p">(</span><span class="n">y_na_free</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">na.omit</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="c1">## [1] 10 20 40 50 70</span>
<span class="c1">## attr(,&quot;na.action&quot;)</span>
<span class="c1">## [1] 3 6</span>
<span class="c1">## attr(,&quot;class&quot;)</span>
<span class="c1">## [1] &quot;omit&quot;</span>
</pre></div>
</div>
<p>We can enjoy the <code class="docutils literal notranslate"><span class="pre">NA</span></code>-free version of <code class="docutils literal notranslate"><span class="pre">y</span></code> in further computations:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">mean</span><span class="p">(</span><span class="n">y_na_free</span><span class="p">)</span>
<span class="c1">## [1] 38</span>
</pre></div>
</div>
<p>Additionally, the <code class="docutils literal notranslate"><span class="pre">na.action</span></code> attribute indicates the former whereabouts
of the missing observations:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">attr</span><span class="p">(</span><span class="n">y_na_free</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;na.action&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1"># read the attribute value</span>
<span class="c1">## [1] 3 6</span>
<span class="c1">## attr(,&quot;class&quot;)</span>
<span class="c1">## [1] &quot;omit&quot;</span>
</pre></div>
</div>
<p>We ignore the <code class="docutils literal notranslate"><span class="pre">class</span></code> part until <a class="reference internal" href="220-s3.html#chap-s3"><span class="std std-numref">Chapter 10</span></a>.</p>
<p>As another example, <strong class="command">gregexpr</strong> discussed in <a class="reference internal" href="160-character.html#chap-character"><span class="std std-numref">Chapter 6</span></a>
searches for a given pattern in a character vector:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">needle</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;spam|durian&quot;</span><span class="w">  </span><span class="c1"># pattern to search for: spam OR durian</span>
<span class="n">haystack</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;spam, bacon, and durian-flavoured spam&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;spammer&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1"># text</span>
<span class="p">(</span><span class="n">pos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">gregexpr</span><span class="p">(</span><span class="n">needle</span><span class="p">,</span><span class="w"> </span><span class="n">haystack</span><span class="p">,</span><span class="w"> </span><span class="n">perl</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">))</span>
<span class="c1">## [[1]]</span>
<span class="c1">## [1]  1 18 35</span>
<span class="c1">## attr(,&quot;match.length&quot;)</span>
<span class="c1">## [1] 4 6 4</span>
<span class="c1">## attr(,&quot;index.type&quot;)</span>
<span class="c1">## [1] &quot;chars&quot;</span>
<span class="c1">## attr(,&quot;useBytes&quot;)</span>
<span class="c1">## [1] TRUE</span>
<span class="c1">##</span>
<span class="c1">## [[2]]</span>
<span class="c1">## [1] 1</span>
<span class="c1">## attr(,&quot;match.length&quot;)</span>
<span class="c1">## [1] 4</span>
<span class="c1">## attr(,&quot;index.type&quot;)</span>
<span class="c1">## [1] &quot;chars&quot;</span>
<span class="c1">## attr(,&quot;useBytes&quot;)</span>
<span class="c1">## [1] TRUE</span>
</pre></div>
</div>
<p>We sought all occurrences of the pattern within
two character strings. As their number may vary from string to string,
wrapping the results in a list was a good design choice.
Each list element gives the starting positions
where matches can be found: there are three and one match(es), respectively.
Moreover, every vector of positions has a designated <code class="docutils literal notranslate"><span class="pre">match.length</span></code> attribute
(amongst others), in case we need it.</p>
<div class="proof proof-type-exercise" id="id5">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.2</span>
        
    </div><div class="proof-content">
<p>Create a list with EUR/AUD, EUR/GBP, and EUR/USD exchange rates
read from the <code class="docutils literal notranslate"><span class="pre">euraud-*.csv</span></code>,
<code class="docutils literal notranslate"><span class="pre">eurgbp-*.csv</span></code>, and
<code class="docutils literal notranslate"><span class="pre">eurusd-*.csv</span></code> files
in our <a class="reference external" href="https://github.com/gagolews/teaching-data/tree/master/marek">data repository</a>.
Each of its three elements should be a numeric vector storing
the currency exchange rates. Furthermore, equip them with
<code class="docutils literal notranslate"><span class="pre">currency_from</span></code>, <code class="docutils literal notranslate"><span class="pre">currency_to</span></code>, <code class="docutils literal notranslate"><span class="pre">date_from</span></code>, and <code class="docutils literal notranslate"><span class="pre">date_to</span></code> attributes.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">##  [1]     NA 1.6006 1.6031     NA     NA 1.6119 1.6251 1.6195 1.6193 1.6132</span>
<span class="c1">## [11]     NA     NA 1.6117 1.6110 1.6188 1.6115 1.6122     NA</span>
<span class="c1">## attr(,&quot;currency_from&quot;)</span>
<span class="c1">## [1] &quot;EUR&quot;</span>
<span class="c1">## attr(,&quot;currency_to&quot;)</span>
<span class="c1">## [1] &quot;AUD&quot;</span>
<span class="c1">## attr(,&quot;date_from&quot;)</span>
<span class="c1">## [1] &quot;2020-01-01&quot;</span>
<span class="c1">## attr(,&quot;date_to&quot;)</span>
<span class="c1">## [1] &quot;2020-06-30&quot;</span>
</pre></div>
</div>
<p>Such an additional piece of information could be stored
in a few separate variables (other vectors), but then it would
not be as convenient to use as the above representation.</p>
</div></div></section>
<section id="special-attributes">
<span id="sec-special-attributes"></span><h3><span class="section-number">4.4.3. </span>Special attributes<a class="headerlink" href="#special-attributes" title="Link to this heading">¶</a></h3>
<p>Attributes have great potential which is somewhat wasted,
for R users rarely know:</p>
<ul class="simple">
<li><p>that attributes exist (pessimistic scenario), or</p></li>
<li><p>how to handle them (realistic scenario).</p></li>
</ul>
<p>But <em>we</em> know now.</p>
<p>What is more, certain attributes have been predestined to play
a unique role in R.
Namely, the most prevalent amongst the <em>special attributes</em> are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">names</span></code>, <code class="docutils literal notranslate"><span class="pre">row.names</span></code>, and <code class="docutils literal notranslate"><span class="pre">dimnames</span></code>
are used to label the elements of atomic and generic vectors (see below)
as well as rows and columns in matrices (<a class="reference internal" href="230-matrix.html#chap-matrix"><span class="std std-numref">Chapter 11</span></a>)
and data frames (<a class="reference internal" href="240-data-frame.html#chap-data-frame"><span class="std std-numref">Chapter 12</span></a>),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dim</span></code> turns flat vectors into matrices
and other tensors (<a class="reference internal" href="230-matrix.html#chap-matrix"><span class="std std-numref">Chapter 11</span></a>),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">levels</span></code> labels the underlying integer codes in factor objects
(<a class="reference internal" href="220-s3.html#sec-factor"><span class="std std-numref">Section 10.3.2</span></a>),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">class</span></code> can be used to bring forth new complex data structures
based on basic types (<a class="reference internal" href="220-s3.html#chap-s3"><span class="std std-numref">Chapter 10</span></a>).</p></li>
</ul>
<p>We call them <em>special</em> because:</p>
<ul class="simple">
<li><p>they cannot be assigned arbitrary values;
for instance, we will soon see that <code class="docutils literal notranslate"><span class="pre">names</span></code> can accept a character vector
of a specific length,</p></li>
<li><p>they can be accessed via designated functions,
e.g., <strong class="command">names</strong>, <strong class="command">class</strong>, <strong class="command">dim</strong>,
<strong class="command">dimnames</strong>, <strong class="command">levels</strong>, etc.,</p></li>
<li><p>they are widely recognised by many other functions.</p></li>
</ul>
<p>However, in spite of the above, special attributes
can still be managed as ordinary ones.</p>
<div class="proof proof-type-exercise" id="id6">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.3</span>
        
    </div><div class="proof-content">
<p><code class="docutils literal notranslate"><span class="pre">comment</span></code> is perhaps the most rarely used special attribute.
Create an object (whatever) equipped with the <code class="docutils literal notranslate"><span class="pre">comment</span></code> attribute.
Verify that assigning to it anything other than a character vector
leads to an error. Read its value by calling the <strong class="command">comment</strong>
function. Display the object equipped with this attribute.
Note that the <strong class="command">print</strong> function ignores its existence whatsoever:
this is how special it is.</p>
</div></div><div class="admonition important">
<p class="admonition-title">Important</p>
<p>(*)
The accessor functions such as <strong class="command">names</strong> or <strong class="command">class</strong>
might return meaningful values, even if the corresponding
attribute is not set explicitly;
see, e.g., <a class="reference internal" href="230-matrix.html#sec-matrix-representation"><span class="std std-numref">Section 11.1.5</span></a> for an example.</p>
</div>
</section>
<section id="labelling-vector-elements-with-the-names-attribute">
<h3><span class="section-number">4.4.4. </span>Labelling vector elements with the <code class="docutils literal notranslate"><span class="pre">names</span></code> attribute<a class="headerlink" href="#labelling-vector-elements-with-the-names-attribute" title="Link to this heading">¶</a></h3>
<p>The special attribute <code class="docutils literal notranslate"><span class="pre">names</span></code> labels atomic vectors’ and lists’ elements.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">structure</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">13</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">),</span><span class="w"> </span><span class="n">names</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;spam&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;sausage&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;celery&quot;</span><span class="p">)))</span>
<span class="c1">##    spam sausage  celery</span>
<span class="c1">##      13       2       6</span>
</pre></div>
</div>
<p>The labels may improve the expressivity and readability
of our code and data.</p>
<div class="proof proof-type-exercise" id="id7">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.4</span>
        
    </div><div class="proof-content">
<p>Verify that the above <code class="docutils literal notranslate"><span class="pre">x</span></code> is still an ordinary numeric vector
by calling <strong class="command">typeof</strong> and <strong class="command">sum</strong> on it.</p>
</div></div><p>Let’s stress that we can ignore the <code class="docutils literal notranslate"><span class="pre">names</span></code> attribute whatsoever.
If we apply any operation discussed in <a class="reference internal" href="120-numeric.html#chap-numeric"><span class="std std-numref">Chapter 2</span></a>,
we will garner the same result regardless whether such extra information
is present or not.</p>
<p>It is just the <strong class="command">print</strong> function that changed its behaviour slightly.
After all, it is a special attribute. Instead of reporting:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## [1] 13  2  6</span>
<span class="c1">## attr(,&quot;names​&quot;)</span>
<span class="c1">## [1] &quot;spam&quot;    &quot;sausage&quot; &quot;celery&quot;</span>
</pre></div>
</div>
<p>we got a nicely formatted table-like display.
Non-special attributes are still printed in the standard way:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">structure</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">additional_attribute</span><span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">)</span>
<span class="c1">##    spam sausage  celery</span>
<span class="c1">##      13       2       6</span>
<span class="c1">## attr(,&quot;additional_attribute&quot;)</span>
<span class="c1">##  [1]  1  2  3  4  5  6  7  8  9 10</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="150-indexing.html#chap-indexing"><span class="std std-numref">Chapter 5</span></a> will also mention that some operations
(such as indexing) gain superpowers in the presence of the <code class="docutils literal notranslate"><span class="pre">names</span></code>
attribute.</p>
</div>
<p>This attribute can be read by calling:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">attr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;names&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1"># just like any other attribute</span>
<span class="c1">## [1] &quot;spam&quot;    &quot;sausage&quot; &quot;celery&quot;</span>
<span class="nf">names</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">  </span><span class="c1"># because it is so special</span>
<span class="c1">## [1] &quot;spam&quot;    &quot;sausage&quot; &quot;celery&quot;</span>
</pre></div>
</div>
<p>Named vectors can be easily created with the <strong class="command">c</strong>
and <strong class="command">list</strong> functions as well:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">c</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="m">2</span><span class="p">)</span>
<span class="c1">## a b</span>
<span class="c1">## 1 2</span>
<span class="nf">list</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="m">2</span><span class="p">)</span>
<span class="c1">## $a</span>
<span class="c1">## [1] 1</span>
<span class="c1">##</span>
<span class="c1">## $b</span>
<span class="c1">## [1] 2</span>
<span class="nf">c</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="m">4</span><span class="p">))</span><span class="w">  </span><span class="c1"># this is smart</span>
<span class="c1">## a.x a.y   b c.z</span>
<span class="c1">##   1   2   3   4</span>
</pre></div>
</div>
<p>Let’s contemplate how a named list is printed on the console.
Again, it is still a list, but with some extras.</p>
<div class="proof proof-type-exercise" id="id8">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.5</span>
        
    </div><div class="proof-content">
<p>A whole lot of functions return named vectors.
Evaluate the following expressions and read the corresponding
pages in their documentation:</p>
<ul class="simple">
<li><p><strong class="command">quantile</strong><code class="code docutils literal notranslate"><span class="pre">(</span></code><strong class="command">runif</strong><code class="code docutils literal notranslate"><span class="pre">(100))</span></code>,</p></li>
<li><p><strong class="command">hist</strong><code class="code docutils literal notranslate"><span class="pre">(</span></code><strong class="command">runif</strong><code class="code docutils literal notranslate"><span class="pre">(100),</span> <span class="pre">plot=FALSE)</span></code>,</p></li>
<li><p><strong class="command">options</strong><code class="code docutils literal notranslate"><span class="pre">()</span></code> (take note of
<code class="docutils literal notranslate"><span class="pre">digits</span></code>, <code class="docutils literal notranslate"><span class="pre">scipen</span></code>, <code class="docutils literal notranslate"><span class="pre">max.print</span></code>, and <code class="docutils literal notranslate"><span class="pre">width</span></code>),</p></li>
<li><p><strong class="command">capabilities</strong><code class="code docutils literal notranslate"><span class="pre">()</span></code>.</p></li>
</ul>
</div></div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>(*)
Most of the time, lists are used merely as <em>containers</em>
for other R objects. This is a dull yet essential role.
However, let’s just mention here that
every data frame is, in fact, a generic vector
(see <a class="reference internal" href="240-data-frame.html#chap-data-frame"><span class="std std-numref">Chapter 12</span></a>). Each column corresponds
to a named list element:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">head</span><span class="p">(</span><span class="n">iris</span><span class="p">))</span><span class="w">  </span><span class="c1"># some data frame</span>
<span class="c1">##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span>
<span class="c1">## 1          5.1         3.5          1.4         0.2  setosa</span>
<span class="c1">## 2          4.9         3.0          1.4         0.2  setosa</span>
<span class="c1">## 3          4.7         3.2          1.3         0.2  setosa</span>
<span class="c1">## 4          4.6         3.1          1.5         0.2  setosa</span>
<span class="c1">## 5          5.0         3.6          1.4         0.2  setosa</span>
<span class="c1">## 6          5.4         3.9          1.7         0.4  setosa</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">  </span><span class="c1"># it is just a list (with extras that will be discussed later)</span>
<span class="c1">## [1] &quot;list&quot;</span>
<span class="nf">unclass</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">  </span><span class="c1"># how it is represented exactly (without the extras)</span>
<span class="c1">## $Sepal.Length</span>
<span class="c1">## [1] 5.1 4.9 4.7 4.6 5.0 5.4</span>
<span class="c1">##</span>
<span class="c1">## $Sepal.Width</span>
<span class="c1">## [1] 3.5 3.0 3.2 3.1 3.6 3.9</span>
<span class="c1">##</span>
<span class="c1">## $Petal.Length</span>
<span class="c1">## [1] 1.4 1.4 1.3 1.5 1.4 1.7</span>
<span class="c1">##</span>
<span class="c1">## $Petal.Width</span>
<span class="c1">## [1] 0.2 0.2 0.2 0.2 0.2 0.4</span>
<span class="c1">##</span>
<span class="c1">## $Species</span>
<span class="c1">## [1] setosa setosa setosa setosa setosa setosa</span>
<span class="c1">## Levels: setosa versicolor virginica</span>
<span class="c1">##</span>
<span class="c1">## attr(,&quot;row.names&quot;)</span>
<span class="c1">## [1] 1 2 3 4 5 6</span>
</pre></div>
</div>
<p>Therefore, the functions we discuss in this chapter
are of use in processing such structured data, too.</p>
</div>
</section>
<section id="altering-and-removing-attributes">
<h3><span class="section-number">4.4.5. </span>Altering and removing attributes<a class="headerlink" href="#altering-and-removing-attributes" title="Link to this heading">¶</a></h3>
<p>We know that a single attribute can be read by calling <strong class="command">attr</strong>.
Their whole list is generated with a call to <strong class="command">attributes</strong>.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">structure</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;some&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;object&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">names</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;X&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Y&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">attribute1</span><span class="o">=</span><span class="s">&quot;value1&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">attribute2</span><span class="o">=</span><span class="s">&quot;value2&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">attribute3</span><span class="o">=</span><span class="s">&quot;value3&quot;</span><span class="p">))</span>
<span class="c1">##        X        Y</span>
<span class="c1">##   &quot;some&quot; &quot;object&quot;</span>
<span class="c1">## attr(,&quot;attribute1&quot;)</span>
<span class="c1">## [1] &quot;value1&quot;</span>
<span class="c1">## attr(,&quot;attribute2&quot;)</span>
<span class="c1">## [1] &quot;value2&quot;</span>
<span class="c1">## attr(,&quot;attribute3&quot;)</span>
<span class="c1">## [1] &quot;value3&quot;</span>
<span class="nf">attr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;attribute1&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1"># reads a single attribute, returns NULL if unset</span>
<span class="c1">## [1] &quot;value1&quot;</span>
<span class="nf">attributes</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">  </span><span class="c1"># returns a named list with all attributes of an object</span>
<span class="c1">## $names</span>
<span class="c1">## [1] &quot;X&quot; &quot;Y&quot;</span>
<span class="c1">##</span>
<span class="c1">## $attribute1</span>
<span class="c1">## [1] &quot;value1&quot;</span>
<span class="c1">##</span>
<span class="c1">## $attribute2</span>
<span class="c1">## [1] &quot;value2&quot;</span>
<span class="c1">##</span>
<span class="c1">## $attribute3</span>
<span class="c1">## [1] &quot;value3&quot;</span>
</pre></div>
</div>
<p>We can alter an attribute’s value or add further attributes
by referring to the <strong class="command">structure</strong> function once again.
Moreover, setting an attribute’s value to <code class="docutils literal notranslate"><span class="pre">NULL</span></code> gets rid of it completely.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">structure</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">attribute1</span><span class="o">=</span><span class="kc">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">attribute4</span><span class="o">=</span><span class="s">&quot;added&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">attribute3</span><span class="o">=</span><span class="s">&quot;modified&quot;</span><span class="p">)</span>
<span class="c1">##        X        Y</span>
<span class="c1">##   &quot;some&quot; &quot;object&quot;</span>
<span class="c1">## attr(,&quot;attribute2&quot;)</span>
<span class="c1">## [1] &quot;value2&quot;</span>
<span class="c1">## attr(,&quot;attribute3&quot;)</span>
<span class="c1">## [1] &quot;modified&quot;</span>
<span class="c1">## attr(,&quot;attribute4&quot;)</span>
<span class="c1">## [1] &quot;added&quot;</span>
</pre></div>
</div>
<p>As far as the <code class="docutils literal notranslate"><span class="pre">names</span></code> attribute is concerned,
we may generate an unnamed copy of an object by calling:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">unname</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1">## [1] &quot;some&quot;   &quot;object&quot;</span>
<span class="c1">## attr(,&quot;attribute1&quot;)</span>
<span class="c1">## [1] &quot;value1&quot;</span>
<span class="c1">## attr(,&quot;attribute2&quot;)</span>
<span class="c1">## [1] &quot;value2&quot;</span>
<span class="c1">## attr(,&quot;attribute3&quot;)</span>
<span class="c1">## [1] &quot;value3&quot;</span>
</pre></div>
</div>
<p>In <a class="reference internal" href="210-design.html#sec-replacementfun"><span class="std std-numref">Section 9.3.6</span></a>, we will introduce
<em>replacement functions</em>. They will enable us to modify or remove
an object’s attribute
by calling “<strong class="command">attr</strong><code class="code docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">&quot;some_attribute&quot;)</span> <span class="pre">&lt;-</span> <span class="pre">new_value</span></code>”.</p>
<p>Moreover, <a class="reference internal" href="150-indexing.html#sec-attrpreserv"><span class="std std-numref">Section 5.5</span></a> highlights that certain operations
(such as vector indexing, elementwise arithmetic operations, and
coercion) might not preserve all attributes of the objects that were
given as their inputs.</p>
</section>
</section>
<section id="exercises">
<h2><span class="section-number">4.5. </span>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">¶</a></h2>
<div class="proof proof-type-exercise" id="id9">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.6</span>
        
    </div><div class="proof-content">
<p>Provide an answer to the following questions.</p>
<ul class="simple">
<li><p>What is the meaning of <strong class="command">c</strong><code class="code docutils literal notranslate"><span class="pre">(TRUE,</span> <span class="pre">FALSE)*1:10</span></code>?</p></li>
<li><p>What does <strong class="command">sum</strong><code class="code docutils literal notranslate"><span class="pre">(</span></code><strong class="command">as.logical</strong><code class="code docutils literal notranslate"><span class="pre">(x))</span></code>
compute when <code class="docutils literal notranslate"><span class="pre">x</span></code> is a numeric vector?</p></li>
<li><p>We said that atomic vectors of the type <code class="docutils literal notranslate"><span class="pre">character</span></code> are the
most general ones. Therefore, is
<strong class="command">as.numeric</strong><code class="code docutils literal notranslate"><span class="pre">(</span></code><strong class="command">as.character</strong><code class="code docutils literal notranslate"><span class="pre">(x))</span></code>
the same as <strong class="command">as.numeric</strong><code class="code docutils literal notranslate"><span class="pre">(x)</span></code>, regardless of
the type of <code class="docutils literal notranslate"><span class="pre">x</span></code>?</p></li>
<li><p>What is the meaning of <strong class="command">as.logical</strong><code class="code docutils literal notranslate"><span class="pre">(x+y)</span></code>
if <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are logical vectors?
What about <strong class="command">as.logical</strong><code class="code docutils literal notranslate"><span class="pre">(x*y)</span></code>,
<strong class="command">as.logical</strong><code class="code docutils literal notranslate"><span class="pre">(1-x)</span></code>, and
<strong class="command">as.logical</strong><code class="code docutils literal notranslate"><span class="pre">(x!=y)</span></code>?</p></li>
<li><p>What is the meaning of the following when <code class="docutils literal notranslate"><span class="pre">x</span></code> is a logical vector?</p>
<ul>
<li><p><strong class="command">cummin</strong><code class="code docutils literal notranslate"><span class="pre">(x)</span></code> and <strong class="command">cummin</strong><code class="code docutils literal notranslate"><span class="pre">(!x)</span></code>,</p></li>
<li><p><strong class="command">cummax</strong><code class="code docutils literal notranslate"><span class="pre">(x)</span></code> and <strong class="command">cummax</strong><code class="code docutils literal notranslate"><span class="pre">(!x)</span></code>,</p></li>
<li><p><strong class="command">cumsum</strong><code class="code docutils literal notranslate"><span class="pre">(x)</span></code> and <strong class="command">cumsum</strong><code class="code docutils literal notranslate"><span class="pre">(!x)</span></code>,</p></li>
<li><p><strong class="command">cumprod</strong><code class="code docutils literal notranslate"><span class="pre">(x)</span></code> and <strong class="command">cumprod</strong><code class="code docutils literal notranslate"><span class="pre">(!x)</span></code>.</p></li>
</ul>
</li>
<li><p>Let <code class="docutils literal notranslate"><span class="pre">x</span></code> be a <em>named</em> numeric vector, e.g.,
“<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;-</span> </code><strong class="command">quantile</strong><code class="code docutils literal notranslate"><span class="pre">(</span></code><strong class="command">runif</strong><code class="code docutils literal notranslate"><span class="pre">(100))</span></code>”.
What is the result of <code class="docutils literal notranslate"><span class="pre">2*x</span></code>, <strong class="command">mean</strong><code class="code docutils literal notranslate"><span class="pre">(x)</span></code>,
and <strong class="command">round</strong><code class="code docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">2)</span></code>?</p></li>
<li><p>What is the meaning of <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">NULL</span></code>?</p></li>
<li><p>Give two ways to create a named character vector.</p></li>
<li><p>Give two ways (discussed above; there are more) to remove the
<code class="docutils literal notranslate"><span class="pre">names</span></code> attribute from an object.</p></li>
</ul>
</div></div><div class="proof proof-type-exercise" id="id10">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.7</span>
        
    </div><div class="proof-content">
<p>There are a few peculiarities when joining or coercing lists. Compare
the results generated by the following pairs of expressions:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1)</span>
<span class="nf">as.character</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">4</span><span class="p">)),</span><span class="w"> </span><span class="m">5</span><span class="p">))</span>
<span class="nf">as.character</span><span class="p">(</span><span class="nf">unlist</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">4</span><span class="p">)),</span><span class="w"> </span><span class="m">5</span><span class="p">)))</span>
<span class="c1"># 2)</span>
<span class="nf">as.numeric</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">4</span><span class="p">)),</span><span class="w"> </span><span class="m">5</span><span class="p">))</span>
<span class="nf">as.numeric</span><span class="p">(</span><span class="nf">unlist</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">4</span><span class="p">)),</span><span class="w"> </span><span class="m">5</span><span class="p">)))</span>
<span class="c1"># 3)</span>
<span class="nf">unlist</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="n">sd</span><span class="p">))</span>
<span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">sd</span><span class="p">)</span>
<span class="c1"># 4)</span>
<span class="nf">c</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="m">3</span><span class="p">),</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">)</span>
<span class="nf">c</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="m">3</span><span class="p">),</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">))</span>
</pre></div>
</div>
</div></div><div class="proof proof-type-exercise" id="id11">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.8</span>
        
    </div><div class="proof-content">
<p>Given numeric vectors <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">z</span></code>, and <code class="docutils literal notranslate"><span class="pre">w</span></code>,
how to combine <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, and <strong class="command">list</strong><code class="code docutils literal notranslate"><span class="pre">(z,</span> <span class="pre">w)</span></code>
so as to obtain <strong class="command">list</strong><code class="code docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">z,</span> <span class="pre">w)</span></code>?
More generally, given a set of atomic vectors
and lists of atomic vectors, how to combine them
to obtain a single list of atomic vectors
(not a list of atomic vectors and lists, not atomic vectors unwound, etc.)?</p>
</div></div><div class="proof proof-type-exercise" id="id12">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.9</span>
        
    </div><div class="proof-content">
<p><strong class="command">readRDS</strong> serialises R objects and writes their
snapshots to disk so that they can be restored
via a call to <strong class="command">saveRDS</strong> at a later time.
Verify that this function preserves object attributes.
Also, check out <strong class="command">dput</strong> and <strong class="command">dget</strong> which work with
objects’ textual representations in the form of executable R code.</p>
</div></div><div class="proof proof-type-exercise" id="id13">

    <div class="proof-title">
        <span class="proof-type">Exercise 4.10</span>
        
    </div><div class="proof-content">
<p>(*)
Use <strong class="program">jsonlite</strong><code class="code docutils literal notranslate"><span class="pre">::</span></code><strong class="command">fromJSON</strong>
to read a JSON file in the form of a named list.</p>
</div></div><div style="margin-top: 1em"></div><p>In the extremely unlikely event of our finding
the current chapter boring, let’s rejoice:
some of the exercises and remarks that we will encounter in the
next part, which is devoted to vector indexing,
will definitely be mouthwatering.</p>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footasnumeric" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>(*) <strong class="command">as.numeric</strong> is a built-in
generic function identical to (synonymous with) <strong class="command">as.double</strong>;
see <a class="reference internal" href="220-s3.html#sec-built-in-generics"><span class="std std-numref">Section 10.2.3</span></a>.
<strong class="command">is.numeric</strong> is generic too, and is more universal
than <strong class="command">is.double</strong>, which only verifies whether <strong class="command">typeof</strong>
returns <code class="docutils literal notranslate"><span class="pre">&quot;double&quot;</span></code>. For instance, vectors of the type <em>integer</em>
which we mention later are considered numeric as well.</p>
</aside>
<aside class="footnote brackets" id="attr1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>Other ways include the replacement versions
of the <strong class="command">attr</strong> and <strong class="command">attributes</strong> functions;
see <a class="reference internal" href="210-design.html#sec-replacementfun"><span class="std std-numref">Section 9.3.6</span></a>.</p>
</aside>
</aside>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="150-indexing.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">5. </span>Vector indexing</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="130-logical.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">3. </span>Logical vectors</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
              
              
              Copyright &#169; 2022–2024 by <a href="https://www.gagolewski.com/">Marek Gagolewski</a>.
              Some rights reserved. Licensed under <a href='https://creativecommons.org/licenses/by-nc-nd/4.0'>CC BY-NC-ND 4.0</a>.
              Built with <a href="https://sphinx-doc.org/">Sphinx</a>
              and a customised <a href="https://github.com/pradyunsg/furo">Furo</a> theme.
              Last updated on 2024-10-14T11:08:08+0200.
              This site will never display any ads: it is a non-profit project.
              It does not collect any data.
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            In this chapter
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">4. Lists and attributes</a><ul>
<li><a class="reference internal" href="#type-hierarchy-and-conversion">4.1. Type hierarchy and conversion</a><ul>
<li><a class="reference internal" href="#explicit-type-casting">4.1.1. Explicit type casting</a></li>
<li><a class="reference internal" href="#implicit-conversion-coercion">4.1.2. Implicit conversion (coercion)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#lists">4.2. Lists</a><ul>
<li><a class="reference internal" href="#creating-lists">4.2.1. Creating lists</a></li>
<li><a class="reference internal" href="#converting-to-and-from-lists">4.2.2. Converting to and from lists</a></li>
</ul>
</li>
<li><a class="reference internal" href="#null">4.3. <code class="docutils literal notranslate"><span class="pre">NULL</span></code></a></li>
<li><a class="reference internal" href="#object-attributes">4.4. Object attributes</a><ul>
<li><a class="reference internal" href="#developing-perceptual-indifference-to-most-attributes">4.4.1. Developing perceptual indifference to most attributes</a></li>
<li><a class="reference internal" href="#but-there-are-a-few-use-cases">4.4.2. But there are a few use cases</a></li>
<li><a class="reference internal" href="#special-attributes">4.4.3. Special attributes</a></li>
<li><a class="reference internal" href="#labelling-vector-elements-with-the-names-attribute">4.4.4. Labelling vector elements with the <code class="docutils literal notranslate"><span class="pre">names</span></code> attribute</a></li>
<li><a class="reference internal" href="#altering-and-removing-attributes">4.4.5. Altering and removing attributes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exercises">4.5. Exercises</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=2b367170"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="../_static/proof.js"></script>
    <script src="../_static/katex.min.js?v=be8ff15f"></script>
    <script src="../_static/auto-render.min.js?v=ad136472"></script>
    <script src="../_static/katex_autorenderer.js?v=bebc588a"></script>
    </body>
</html>